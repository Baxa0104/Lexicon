extends layout

block content
    // Search & Header Bar
    .bg-white.shadow-sm.rounded.p-3.mb-4(style="max-width: 1000px; width: 100%; margin: 0 auto;")
        .d-flex.justify-content-between.align-items-center.flex-wrap

            // Page Title
            h4.text-dark.mb-0 Ride Requests

            // Search Form
            form.d-flex.align-items-center(method="GET" action="/rides")
                input.form-control.me-2(
                    style="width: 250px;" 
                    type="search" 
                    name="search" 
                    placeholder="Search by Driver // Destination Address" 
                    value=(search || '') 
                )

    .container(style="max-width: 1000px; width: 100%;")
        // Rides List Section (Grid)
        .row
            each ride in data
                .col-6.col-md-4.col-lg-3.mb-4 
                    .card.shadow-sm.bg-white.rounded.w-100.h-100

                        // Ride Image (Consistent Styling)
                        if ride.ride_pics
                            img.card-img-top(
                                src=ride.ride_pics, 
                                alt=ride.short_name, 
                                class="img-fluid", 
                                style="object-fit: cover; height: 140px; width: 100%;"
                            )
                        else
                            div.card-img-top.d-flex.align-items-center.justify-content-center.bg-light(
                                style="height: 140px; width: 100%;"
                            )
                                i.bi.bi-image.display-1.text-secondary

                        // Ride Info (Consistent Formatting)
                        .card-body.text-center.p-2
                            h6.mb-1 
                                a.text-primary.text-decoration-none(href=`/rides/${ride.ride_id}`) #{ride.short_name}

                            p.mb-1.text-muted.small
                                strong Driver:  
                                | #{ride.driver_name}

                            p.text-muted.small.mb-0
                                strong Date of Departure:  
                                | #{ride.departure_date}

    if !data.length
        p.text-center No rides found.
