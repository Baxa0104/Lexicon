extends layout

block content
    // Search & Header Bar
    .bg-white.shadow-sm.rounded.p-3.mb-4(style="max-width: 1000px; width: 100%; margin: 0 auto;")
        .d-flex.justify-content-between.align-items-center.flex-wrap

            // Page Title
            h4.text-dark.mb-0 Ride Requests

            // Search Form
            form.d-flex.align-items-center(method="GET" action="/rides")
                input.form-control.me-2(
                    style="width: 250px;" 
                    type="search" 
                    name="search" 
                    placeholder="Search by Driver // Destination Address" 
                    value=(search || '') 
                )

    .container(style="max-width: 1000px; width: 100%;")
        // Rides List Section (Grid)
        .row
            each ride in data
                .col-6.col-md-4.col-lg-3.mb-4
                    .card.shadow-lg.w-100(style="height: 400px;") 
                        // Ride Image
                        .card-img-top
                            if ride.ride_pics
                                img(src=ride.ride_pics, alt=ride.short_name, class="img-fluid", style="object-fit: cover; height: 200px; width: 100%;")
                            else
                                div.bg-light.d-flex.align-items-center.justify-content-center(style="height: 200px; width: 100%;")
                                    i.bi.bi-image.display-1.text-secondary

                        // Content Below Image
                        .card-body.d-flex.flex-column.justify-content-between(style="height: 200px;")
                            h6 
                                a.text-primary.text-decoration-none(href=`/rides/${ride.ride_id}`) #{ride.short_name}

                            p.mb-2.small 
                                strong Driver:  
                                | #{ride.driver_name}

                            p.text-muted.small 
                                strong Date of Departure:  
                                | #{ride.departure_date}

    if !data.length
        p.text-center No rides found.
